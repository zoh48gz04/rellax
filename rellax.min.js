(function(r,h){"function"===typeof define&&define.amd?define([],h):"object"===typeof module&&module.exports?module.exports=h():r.Rellax=h()})("undefined"!==typeof window?window:global,function(){var r=function(h,q){function G(){if(3===a.options.breakpoints.length&&Array.isArray(a.options.breakpoints)){var f=!0,c=!0,b;a.options.breakpoints.forEach(function(a){"number"!==typeof a&&(c=!1);null!==b&&a<b&&(f=!1);b=a});if(f&&c)return}a.options.breakpoints=[576,768,1024];console.warn("Rellax: You must pass an array of 3 numbers in ascending order to the breakpoints option. Defaults reverted")}
var a=Object.create(r.prototype),m=0,x=0,u=0,n=0,d=[],y=!0,D=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(a){return setTimeout(a,1E3/60)},v=null,z=!1;try{var l=Object.defineProperty({},"passive",{get:function(){z=!0}});window.addEventListener("testPassive",null,l);window.removeEventListener("testPassive",null,l)}catch(f){}var H=window.cancelAnimationFrame||window.mozCancelAnimationFrame||
clearTimeout,I=window.transformProp||function(){var a=document.createElement("div");if(null===a.style.transform){var c=["Webkit","Moz","ms"],b;for(b in c)if(void 0!==a.style[c[b]+"Transform"])return c[b]+"Transform"}return"transform"}();a.options={speed:-2,verticalSpeed:null,horizontalSpeed:null,breakpoints:[576,768,1024],center:!1,wrapper:null,relativeToWrapper:!1,round:!0,vertical:!0,horizontal:!1,verticalScrollAxis:"y",horizontalScrollAxis:"x",callback:function(){}};q&&Object.keys(q).forEach(function(d){a.options[d]=
q[d]});q&&q.breakpoints&&G();h||(h=".rellax");l="string"===typeof h?document.querySelectorAll(h):[h];if(0<l.length){a.elems=l;if(a.options.wrapper&&!a.options.wrapper.nodeType)if(l=document.querySelector(a.options.wrapper))a.options.wrapper=l;else{console.warn("Rellax: The wrapper you're trying to use doesn't exist.");return}var A,F=function(){for(var f=0;f<d.length;f++)a.elems[f].style.cssText=d[f].style;d=[];x=window.innerHeight;n=window.innerWidth;f=a.options.breakpoints;A=n<f[0]?"xs":n>=f[0]&&
n<f[1]?"sm":n>=f[1]&&n<f[2]?"md":"lg";K();for(f=0;f<a.elems.length;f++){var c=void 0,b=a.elems[f],e=b.getAttribute("data-rellax-percentage");var g=b.getAttribute("data-rellax-xs-percentage");var h=b.getAttribute("data-rellax-mobile-percentage"),k=b.getAttribute("data-rellax-tablet-percentage"),l=b.getAttribute("data-rellax-desktop-percentage"),m=b.getAttribute("data-rellax-speed"),p=b.getAttribute("data-rellax-xs-speed"),q=b.getAttribute("data-rellax-mobile-speed"),u=b.getAttribute("data-rellax-tablet-speed"),
v=b.getAttribute("data-rellax-desktop-speed"),B=b.getAttribute("data-rellax-vertical-speed"),C=b.getAttribute("data-rellax-horizontal-speed"),r=b.getAttribute("data-rellax-vertical-scroll-axis"),E=b.getAttribute("data-rellax-horizontal-scroll-axis"),z=b.getAttribute("data-rellax-zindex")||0,D=b.getAttribute("data-rellax-min"),G=b.getAttribute("data-rellax-max"),t=b.getAttribute("data-rellax-min-x"),H=b.getAttribute("data-rellax-max-x"),I=b.getAttribute("data-rellax-min-y"),N=b.getAttribute("data-rellax-max-y"),
O=b.getAttribute("data-rellax-horizontal-in-view"),w=!0;p||q||u||v?c={xs:p,sm:q,md:u,lg:v}:w=!1;if(g||h||k||l)g={xs:g,sm:h,md:k,lg:l},e=null!=g[A]?g[A]:e;g=a.options.wrapper?a.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;a.options.relativeToWrapper&&(g=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)-a.options.wrapper.offsetTop);p=a.options.vertical?e||a.options.center?g:0:0;q=a.options.horizontal?e||a.options.center?
a.options.wrapper?a.options.wrapper.scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0:0;g=p+b.getBoundingClientRect().top;h=b.clientHeight||b.offsetHeight||b.scrollHeight;k=q+b.getBoundingClientRect().left;l=b.clientWidth||b.offsetWidth||b.scrollWidth;p=e?e:(p-g+x)/(h+x);e=e?e:(q-k+n)/(l+n);a.options.center&&(p=e=.5);c=w&&null!==c[A]?Number(c[A]):m?m:a.options.speed;B=B?B:a.options.verticalSpeed;C=C?C:a.options.horizontalSpeed;r=r?r:a.options.verticalScrollAxis;
E=E?E:a.options.horizontalScrollAxis;m=L(e,p,c,B,C);w=b.style.cssText;e="";if(p=/transform\s*:/i.exec(w))e=w.slice(p.index),e=(p=e.indexOf(";"))?" "+e.slice(11,p).replace(/\s/g,""):" "+e.slice(11).replace(/\s/g,"");"$WIDTH"==t&&(t=b.clientWidth);"$CHILD_WIDTH"==t&&(t=b.children[0].clientWidth);"-$WIDTH"==t&&(t=-1*b.clientWidth);"-$CHILD_WIDTH"==t&&(t=-1*b.children[0].clientWidth);d.push({baseX:m.x,baseY:m.y,top:g,left:k,height:h,width:l,speed:c,verticalSpeed:B,horizontalSpeed:C,verticalScrollAxis:r,
horizontalScrollAxis:E,style:w,transform:e,zindex:z,min:D,max:G,minX:t,maxX:H,minY:I,maxY:N,horizontalInView:O})}M();y&&(window.addEventListener("resize",F),y=!1,J())},K=function(){var d=m,c=u;m=a.options.wrapper?a.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset;u=a.options.wrapper?a.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset;a.options.relativeToWrapper&&
(m=((document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset)-a.options.wrapper.offsetTop);return d!=m&&a.options.vertical||c!=u&&a.options.horizontal?!0:!1},L=function(d,c,b,e,g){var f={};d=100*(g?g:b)*(1-d);c=100*(e?e:b)*(1-c);f.x=a.options.round?Math.round(d):Math.round(100*d)/100;f.y=a.options.round?Math.round(c):Math.round(100*c)/100;return f},k=function(){window.removeEventListener("resize",k);window.removeEventListener("orientationchange",k);(a.options.wrapper?
a.options.wrapper:window).removeEventListener("scroll",k);(a.options.wrapper?a.options.wrapper:document).removeEventListener("touchmove",k);v=D(J)},J=function(){K()&&!1===y?(M(),v=D(J)):(v=null,window.addEventListener("resize",k),window.addEventListener("orientationchange",k),(a.options.wrapper?a.options.wrapper:window).addEventListener("scroll",k,z?{passive:!0}:!1),(a.options.wrapper?a.options.wrapper:document).addEventListener("touchmove",k,z?{passive:!0}:!1))},M=function(){for(var f,c=0;c<a.elems.length;c++){var b=
d[c].verticalScrollAxis.toLowerCase(),e=d[c].horizontalScrollAxis.toLowerCase();f=-1!=b.indexOf("x")?m:0;var g=-1!=b.indexOf("y")?m:0;b=-1!=e.indexOf("x")?u:0;e=-1!=e.indexOf("y")?u:0;e=(g+e-d[c].top+x)/(d[c].height+x);g=(f+b-d[c].left+n)/(d[c].width+n);d[c].horizontalInView&&(g=(f+b-d[c].top+n)/(d[c].width+n));f=L(g,e,d[c].speed,d[c].verticalSpeed,d[c].horizontalSpeed);b=f.y-d[c].baseY;e=f.x-d[c].baseX;null!==d[c].min&&(a.options.vertical&&!a.options.horizontal&&(b=b<=d[c].min?d[c].min:b),a.options.horizontal&&
!a.options.vertical&&(e=e<=d[c].min?d[c].min:e));null!=d[c].minY&&(b=b<=d[c].minY?d[c].minY:b);null!=d[c].minX&&(e=e<=d[c].minX?d[c].minX:e);null!==d[c].max&&(a.options.vertical&&!a.options.horizontal&&(b=b>=d[c].max?d[c].max:b),a.options.horizontal&&!a.options.vertical&&(e=e>=d[c].max?d[c].max:e));null!=d[c].maxY&&(b=b>=d[c].maxY?d[c].maxY:b);null!=d[c].maxX&&(e=e>=d[c].maxX?d[c].maxX:e);a.elems[c].style[I]="translate3d("+(a.options.horizontal?e:"0")+"px,"+(a.options.vertical?b:"0")+"px,"+d[c].zindex+
"px) "+d[c].transform}a.options.callback(f)};a.destroy=function(){for(var f=0;f<a.elems.length;f++)a.elems[f].style.cssText=d[f].style;y||(window.removeEventListener("resize",F),y=!0);H(v);v=null};F();a.refresh=F;return a}console.warn("Rellax: The elements you're trying to select don't exist.")};return r});